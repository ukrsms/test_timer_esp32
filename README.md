# Тестовый проект на основе ESP32
**Описание работы программы**

Программа состоит из двух задач Freertos. Первая реализует таймер з периодом 5 сек, инкрементируя при этом знайчение счетчика. По срабатыванию таймера она заносит значение счетчика в очередь.
Вторая задача ожидает появление нового значения в очереди. Получив новое значение, она определеят количество времение, прошедшее с момента предыдущего значения и логирует оба значения виводя их в консоль.

**Структура проекта**

Проект состоит из главного файла main.c, в котором реализована основная логика работы, дополнительного файла rtos_utils.c, реализующего утилитарные функции для работы с freertos, и модуля(компонента) logger, реализующего логирование строковых данных.

**Описание модулей**

***Main***
При старте главного потока создается очередь на 10 елементов типа Int и две задачи(потока), а сам главный поток останавливается.
Задача, реализующая таймер, получает через параметр указатель на очередь, в которую нужно передавать значения чсетчика.
Задача-логер получает в параметрах указатель на очередь, из которой будет получать значения счетчика, а также указатель на функцию, реализующую логирование.

***Logger***
Компонент реализует логирование строковых данных - выводит в консоль полученный строку.
Используется  соотвествующая функции из ESP_IDF ESP_LOGI, реализована в виде макроса.

**Сборка проекта**
Для сборки проекта необходимо скачать репозиторий и использовать [официальную документацию](https://docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/) по настройке среды ESP-IDF.
Для компиляции, прошивки и просмотра сообщений из консоли используются стандартные команды, описанные в документации.
Для прошивки можно использовать команду idf.py flash -p PORT,
для просмотра консоли idf.py monitor -p PORT, где PORT - имя порта, к которому подклчено устройство.
